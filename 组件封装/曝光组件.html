<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        ul,
        li {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .clearfix::after {
            content: "";
            display: block;
            clear: both;
        }

        .pic>li {
            border: 1px solid;
            width: 400px;
            height: 300px;
            margin: 5px;
            float: left;
        }

        .pic>li img {
            width: 400px;
            height: 300px;
        }
    </style>
</head>

<body>
    <ul class="pic clearfix">
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/1.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/2.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/3.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/4.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/5.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/6.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/7.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/8.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/9.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/10.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/11.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/12.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/13.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/14.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/15.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/16.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/17.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/18.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/19.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/20.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/21.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/22.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/23.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/24.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/25.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/26.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/27.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/28.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/29.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/30.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/31.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/32.jpg" alt=""></li>
        <li><img src="" data-src="http://cdn.jirengu.com/book.jirengu.com/img/33.jpg" alt=""></li>
    </ul>

    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script>

    var Lazy = (function(){
        function Exposure($target){
            this.$target = $target
            this.bind()
            this.loadImg()
        }

        Exposure.prototype.bind = function(){
            var _this = this
            $(window).on("scroll", function() {
                _this.loadImg()
            })
        }

        Exposure.prototype.loadImg = function(){
            var _this = this
            this.$target.each(function() {
                if (_this.isVisible($(this)) && $(this).not(".show").length > 0) {
                    var url = $(this).data("src");
                    $(this).attr("src", url);
                    $(this).addClass("show");
                }
            })
        }

        Exposure.prototype.isVisible = function($node){
            var $offset = $node.offset().top;
            var $scrollTop = $(window).scrollTop();
            var $height = $node.outerHeight();
            var $windowHeight = $(window).height();
            if ($windowHeight + $scrollTop > $offset && $scrollTop < $offset + $height) {
                return true
            } else {
                return false
            }
        }

        return {
            init: function($node){
                new Exposure($node)
            }
        }
    })()

    Lazy.init($(".pic img"))

    </script>
</body>

</html>
